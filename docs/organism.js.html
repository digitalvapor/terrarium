<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: organism.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: organism.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** ◌: nothing changed from hardcoded data, ◐: just localStorage, ◑: just db, ◉: both localStorage and db*/
const SAVE_STATE_ICONS = ['◌', '◐', '◑', '◉'];

/**
 * a base Organism class. Just keeping this around in case this project is used for something other than plants I guess. Let me know in a github issue if you think of a good way to implement!
 * @class Organism
 */
class Organism {
  constructor(options) {
    this.alive = true;
    this.id = options.id;
    this.taxon = options.taxon;
    this._taxonomicLink = undefined;
    this.saveState = ko.observable(0);
    this.saveStates = {
      localStorage: ko.observable(false),
      db: ko.observable(false),
    };
    this.saveStateIcon = ko.pureComputed(() => {
      return SAVE_STATE_ICONS[this.saveState()];
    });
  }

  // /**
  //  * saveState() will return an integer representing the saveState.
  //  * saveState.localStorage() will give you the state of localStorage.
  //  * saveState.db() will give you the state of db syncing.
  //  * @return {integer} the callable state object function? not sure what to call this.
  // */
  // set saveState() {
  //   const l = this._localStorage();
  //   const d = this._db();
  //   let index = this._saveStateIndex;
  //
  //   if (l &amp; !d)
  //     index = 1;
  //   else if (!l &amp; d)
  //     index = 2;
  //   else if (l &amp; d)
  //     index = 3;
  //
  //   return index;
  // }

  sync() {
    if (this.syncLocalStorage()) {
      // TODO
    }

    if (this.syncDb()) {
      // TODO
    }
  }

  syncLocalStorage() {
    window.localStorage.setItem(this.id, ko.toJSON(this));
    this.saveStates.localStorage(true);
    return true;
  }

  // not implemented yet
  syncDb() {
    return false;
  }
}

export default Organism;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Organism.html">Organism</a></li><li><a href="TerrariumApp.html">TerrariumApp</a></li></ul><h3>Global</h3><ul><li><a href="global.html#getPreferredDatabaseId">getPreferredDatabaseId</a></li><li><a href="global.html#rawData">rawData</a></li><li><a href="global.html#SAVE_STATE_ICONS">SAVE_STATE_ICONS</a></li><li><a href="global.html#validTaxons">validTaxons</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sat Dec 09 2017 14:58:37 GMT-0800 (PST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
